import { Newsreader, Poppins } from 'next/font/google';
import '@/styles/globals.scss';
import Header from '@/components/header/Header';
import { GlobalProvider } from '@/hooks/useGlobalData';
import MobileMenu from '@/components/mobileMenu/MobileMenu';
import '@uploadthing/react/styles.css';
import Footer from '@/components/footer/Footer';
import clsx from 'clsx';
import { auth } from '@/lib/auth';

const newsReader = Newsreader({
	subsets: ['latin'],
	weight: ['200', '300', '400', '500', '600', '700'],
	preload: true,
	variable: '--point'
});

const poppins = Poppins({
	subsets: ['latin'],
	weight: ['200', '300', '400', '500', '600', '700'],
	preload: true,
	variable: '--body'
});

export const metadata = {
	title: 'Blog.',
	description: 'Generated by create next app'
};

export default async function RootLayout({ children }) {
	const session = await auth();
	return (
		<html lang='en'>
			<body>
				<GlobalProvider>
					<main className='container'>
						<Header session={session} />
						<div className={clsx(poppins.variable, newsReader.variable, 'wrap')}>{children}</div>
						<Footer className='footer' session={session} />
					</main>

					<MobileMenu session={session} />
				</GlobalProvider>
			</body>
		</html>
	);
}
